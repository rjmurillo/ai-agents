{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Code Coverage Thresholds",
  "description": "Schema for code coverage baseline thresholds",
  "type": "object",
  "properties": {
    "$schema": {
      "type": "string"
    },
    "description": {
      "type": "string"
    },
    "thresholds": {
      "type": "object",
      "description": "Map of test file paths to their coverage thresholds",
      "patternProperties": {
        "^.*\\.Tests\\.ps1$": {
          "type": "object",
          "properties": {
            "minCoverage": {
              "type": "number",
              "minimum": 0,
              "maximum": 100,
              "description": "Minimum acceptable code coverage percentage"
            },
            "description": {
              "type": "string",
              "description": "Human-readable description of what this test covers"
            },
            "createdDate": {
              "type": "string",
              "format": "date",
              "description": "Date when this threshold was established"
            },
            "createdBy": {
              "type": "string",
              "description": "Session or person who created this baseline"
            }
          },
          "required": ["minCoverage"],
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    }
  },
  "required": ["thresholds"],
  "additionalProperties": false
}
