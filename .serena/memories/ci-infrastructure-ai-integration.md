# CI AI Integration

## Skill-CI-Structured-Output-001: Verdict Tokens for AI Automation (98%)

**Statement**: AI automation in CI/CD requires verdict tokens (PASS/WARN/CRITICAL_FAIL) for deterministic bash parsing.

**Evidence**: Session 03 - Structured verdict format enabled clean bash parsing without AI interpretation.

**Prompt Pattern**:

```markdown
## Output Format

End your response with:
VERDICT: [PASS|WARN|CRITICAL_FAIL]
MESSAGE: [One sentence summary]
```

**Parsing Pattern**:

```bash
VERDICT=$(grep -oP '^VERDICT:\s*\K\w+' response.txt || echo "WARN")
if [ "$VERDICT" = "CRITICAL_FAIL" ]; then
  exit 1
fi
```

## Skill-CI-Comment-Formatting-001: CodeRabbit-Style PR Comments (85%)

**Statement**: Use emoji headers, verdict badges, and collapsible sections for vibrant PR comments.

**Evidence**: Session 08 - Enhanced AI workflow comments with CodeRabbit-style formatting.

**Pattern**:

```markdown
## ğŸ¤– AI Quality Gate Review

### Summary

| Agent | Verdict |
|-------|---------|
| ğŸ”’ Security | âœ… PASS |
| ğŸ§ª QA | âš ï¸ WARN |

<details>
<summary>ğŸ“‹ Walkthrough</summary>

What this workflow does...

</details>

---
ğŸ¤– Generated by AI Quality Gate â€¢ [Run Details](link)
```

## Related

- [ci-infrastructure-001-fail-fast-infrastructure-failures](ci-infrastructure-001-fail-fast-infrastructure-failures.md)
- [ci-infrastructure-002-explicit-retry-timing](ci-infrastructure-002-explicit-retry-timing.md)
- [ci-infrastructure-003-job-status-verdict-distinction](ci-infrastructure-003-job-status-verdict-distinction.md)
- [ci-infrastructure-004-error-message-investigation](ci-infrastructure-004-error-message-investigation.md)
- [ci-infrastructure-claude-code-action-installer-race-condition](ci-infrastructure-claude-code-action-installer-race-condition.md)
