name: "CodeQL Quick Scan Configuration"

# Quick scan configuration for PostToolUse hook and interactive development
# Performance budget: 30 seconds
# Queries: 5-10 critical CWEs only (vs 100+ in full scan)

# Disable default query packs to use explicit queries only
disable-default-queries: true

# Explicit queries for critical CWEs
queries:
  # CWE-078: OS Command Injection
  - id: py/command-injection
  - id: actions/command-injection

  # CWE-089: SQL Injection
  - id: py/sql-injection

  # CWE-079: Cross-Site Scripting (XSS)
  - id: py/reflected-xss

  # CWE-022: Path Traversal
  - id: py/path-injection

  # CWE-798: Hardcoded Credentials
  - id: py/hardcoded-credentials
  - id: actions/hardcoded-credentials

# Query filters to exclude low severity findings (medium+ only)
query-filters:
  - exclude:
      problem.severity: low
  - exclude:
      tags contain: recommendation

# Paths to scan (same as full config for consistency)
paths:
  - scripts/
  - .github/workflows/
  - .github/actions/
  - .github/scripts/
  - .claude/skills/
  - build/

# Paths to exclude (same as full config)
paths-ignore:
  - tests/
  - .agents/
  - docs/
  - '**/*.md'
