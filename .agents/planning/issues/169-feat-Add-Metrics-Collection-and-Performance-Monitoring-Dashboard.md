---
number: 169
title: "feat: Add Metrics Collection and Performance Monitoring Dashboard"
state: OPEN
created_at: 12/20/2025 11:08:11
author: rjmurillo-bot
labels: ["enhancement"]
assignees: []
milestone: null
url: https://github.com/rjmurillo/ai-agents/issues/169
---

# feat: Add Metrics Collection and Performance Monitoring Dashboard

## Summary

Implement a comprehensive metrics collection system with monitoring dashboard to enable data-driven agent optimization.

## Background

Claude-flow collects system metrics (memory, CPU), task metrics (duration, success rate), and performance metrics (session stats). Their MetricsReader class provides a unified API for analytics, and they offer real-time monitoring with configurable intervals.

## Current State

- No metrics collection
- No visibility into agent performance
- No data for optimization decisions
- Manual observation of session quality

## Proposed Solution

1. **System Metrics**:
   - Memory usage (total, used, efficiency)
   - CPU load and core count
   - Platform and uptime
   
2. **Task Metrics**:
   - Task ID, type, and duration
   - Success/failure status
   - Agent type and handoff patterns
   
3. **Performance Metrics**:
   - Session duration and activity
   - Total/successful/failed tasks
   - Agent spawn count
   - Memory mode and operations
   
4. **MetricsReader API**:
   - getSystemMetrics()
   - getTaskMetrics()
   - getPerformanceMetrics()
   - getOverallHealth()
   
5. **Monitoring Dashboard**:
   - Real-time status display
   - Health indicators (healthy/warning/error)
   - Configurable refresh interval

## Benefits

- Identify performance bottlenecks
- Track agent success rates
- Data-driven workflow optimization
- Early warning for system issues

## Implementation Notes

- Store metrics in JSON files (.agents/metrics/)
- Consider SQLite for historical analysis
- Add CLI command for status display
- Integrate with session protocol

## Reference

See claude-flow's Metrics and Monitoring section (wiki page 5).

## Analysis Document

`.agents/analysis/claude-flow-architecture-analysis.md`

---

## Comments

### Comment by @github-actions on 12/20/2025 11:09:41

<!-- AI-PRD-GENERATION -->

## üìã Product Requirements Document

> [!IMPORTANT]
> This PRD was automatically generated based on issue triage escalation.
> **Complexity Score**: 10/12 ()
> **Escalation Criteria**: feature_request, research_required, multi_phase_work, external_dependency

<details>
<summary>üìñ About this PRD</summary>

This PRD was generated by the **Explainer Agent** after the issue was flagged
for detailed analysis. The document is designed to be self-contained - it can
be passed to a separate AI agent instance for implementation without additional
context.

**PRD Depth Levels**:
- **Standard** (4-6): Brief analysis, clear requirements
- **Detailed** (7-9): Research section, blocking questions
- **Comprehensive** (10-12): Phased implementation, risk analysis

</details>

---

Based on my research, I need to clarify requirements before writing the PRD. The issue references a "claude-flow architecture analysis" document that does not exist in this repository.

## Clarifying Questions

Please answer these questions to ensure a complete PRD:

**1. Problem/Goal:**

The issue mentions claude-flow as a reference implementation. Is this an external project you want to replicate, or is there existing analysis documentation I should review?

**2. Primary Data Sources:**

- Where should metrics be persisted? The issue suggests JSON files (`.agents/metrics/`) with optional SQLite. Which is the primary target?
- Should this integrate with the existing dashboard template at `.agents/metrics/dashboard-template.md`?

**3. Scope Boundaries:**

- Should the CLI dashboard be a new command or integrated into an existing script?
- Is the monitoring dashboard terminal-based (real-time text output) or a generated markdown file?
- Should this support only agent sessions, or also GitHub Actions workflows?

**4. User Stories:**

- Who is the primary user? (Agent developer, repo maintainer, CI/CD pipeline?)
- Is real-time monitoring required, or is post-session analysis sufficient?

**5. Acceptance Criteria:**

- What specific metrics are P0 (must-have) vs P1 (nice-to-have)?
- What health thresholds define "healthy", "warning", and "error" states?

**6. Technical Constraints:**

- Must this be PowerShell-only per ADR-005, or are other languages acceptable for the metrics system?
- Should metrics collection be synchronous (blocking) or asynchronous (background)?

**7. Integration Points:**

- Should metrics integrate with the existing session protocol (`.agents/SESSION-PROTOCOL.md`)?
- Should the MetricsReader be accessible from agent prompts, or only from scripts?

---

<sub>üìã Generated by [AI PRD Generation](https://github.com/rjmurillo/ai-agents) ¬∑ [View Workflow](https://github.com/rjmurillo/ai-agents/actions/runs/20393494402)</sub>



### Comment by @github-actions on 12/20/2025 11:09:43

<!-- AI-ISSUE-TRIAGE -->

## AI Triage Summary

> [!NOTE]
> This issue has been automatically triaged by AI agents

<details>
<summary>What is AI Triage?</summary>

This issue was analyzed by AI agents:

- **Analyst Agent**: Categorizes the issue and suggests appropriate labels
- **Roadmap Agent**: Aligns the issue with project milestones and priorities
- **Explainer Agent** (if escalated): Generates comprehensive PRD

</details>

### Triage Results

| Property | Value |
|:---------|:------|
| **Category** | `enhancement` |
| **Labels** | enhancement area-infrastructure |
|  **Priority** | `P2` |
| **Milestone** | v1.2 |
| **PRD Escalation** | Generated (see below) |

<details>
<summary>Categorization Analysis</summary>

```json
```json
{
  "labels": ["enhancement", "area-infrastructure"],
  "category": "enhancement",
  "confidence": 0.95,
  "reasoning": "Issue proposes new metrics collection and monitoring dashboard feature for agent performance visibility"
}
```

```

</details>

<details>
<summary>Roadmap Alignment</summary>

```json
```json
{
  "milestone": "v1.2",
  "priority": "P2",
  "epic_alignment": "",
  "confidence": 0.85,
  "reasoning": "Aligns with backlog item 'Performance Metrics Dashboard' but requires significant research, external reference (claude-flow), and multi-phase implementation.",
  "escalate_to_prd": true,
  "escalation_criteria": ["feature_request", "research_required", "multi_phase_work", "external_dependency"],
  "complexity_score": 10
}
```

```

</details>

---

<sub>Powered by [AI Issue Triage](https://github.com/rjmurillo/ai-agents) - [View Workflow](https://github.com/rjmurillo/ai-agents/actions/runs/20393494402)</sub>


### Comment by @coderabbitai on 12/20/2025 11:10:18

<!-- This is an auto-generated issue plan by CodeRabbit -->


### üìù CodeRabbit Plan Mode
Generate an implementation plan and prompts that you can use with your favorite coding agent.

- [ ] <!-- {"checkboxId": "8d4f2b9c-3e1a-4f7c-a9b2-d5e8f1c4a7b9"} --> Create Plan

<details>
<summary>Examples</summary>

- [Example 1](https://github.com/coderabbitai/git-worktree-runner/issues/29#issuecomment-3589134556)
- [Example 2](https://github.com/coderabbitai/git-worktree-runner/issues/12#issuecomment-3606665167)

</details>

---

<details>
<summary><b>üîó Similar Issues</b></summary>

**Possible Duplicates**
- https://github.com/rjmurillo/ai-agents/issues/7

**Related Issues**
- https://github.com/rjmurillo/ai-agents/issues/129
- https://github.com/rjmurillo/ai-agents/issues/168
- https://github.com/rjmurillo/ai-agents/issues/151
- https://github.com/rjmurillo/ai-agents/issues/136
</details>
<details>
<summary><b>üîó Related PRs</b></summary>

rjmurillo/vs-code-agents#11 - feat: achieve Claude agent parity with VS Code agents [merged]
</details>
<details>
<summary><b>üë§ Suggested Assignees</b></summary>

- [rjmurillo-bot](https://github.com/rjmurillo-bot)
- [rjmurillo](https://github.com/rjmurillo)
</details>


---
<details>
<summary> üß™ Issue enrichment is currently in open beta.</summary>


You can configure auto-planning by selecting labels in the issue_enrichment configuration.

To disable automatic issue enrichment, add the following to your `.coderabbit.yaml`:
```yaml
issue_enrichment:
  auto_enrich:
    enabled: false
```
</details>

üí¨ Have feedback or questions? Drop into our [discord](https://discord.gg/coderabbit) or [schedule a call](https://calendly.com/parth-coderabbit/issues-feedback)!

